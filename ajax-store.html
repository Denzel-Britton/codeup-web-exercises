<!DOCTYPE html>
<html>

<head>
    <title>Online Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="css/ajax.css">

</head>
<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light shadow fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#">Tools Club</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Services</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<body>
<!-- Full Page Image Header with Vertically Centered Content -->
<header class="masthead">
    <div class="container h-100">
        <div class="row h-100 align-items-center">
            <div class="col-12 text-center">
                <h1 class="fw-light">Dont stress we have what you need.</h1>
<!--                <p class="lead">A great starter layout for a landing page</p>-->
                <h1>My Tool Store</h1>
            </div>

            <table  class="table table-bordered table-dark table-hover" id="products ">
                <thead>
                <tr>
                    <th>Title</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Categories</th>
                </tr>
                </thead>
                <tbody id="insertProducts"></tbody>
            </table>
<!--            <button> Reload</button>-->
        </div>
    </div>
</header>


<!--Ajax Store-->

<!--Your online tool store should load data from the JSON file using a get request and append the data to the table.-->
<!--As explained in the lesson, you will need to use fetch and either a couple of .then() calls, or async/await.-->
<!--Add some new entries to inventory.json and see how the data on the page gets updated.-->
<!--Add a "Refresh" button that will load inventory.json for you without having to refresh the entire page.-->
<!--Make your store look better using custom CSS and/or Bootstrap-->



<script>

(function() {
    "use strict";
    // TODO: Create an AJAX GET request for the file under data/inventory.json
    (async function() {
        const tools = await fetch("../data/inventory.json")
                .then(async function(response) {
                    if(response.status !== 200) {
                        console.log("cannot read tools file");
                        return "";
                    } else
                        return await response.json();

                });
        console.log(tools)
        for (let i = 0; i < tools.length; i++) {
         tools[i]

            const makeTable = document.getElementById("insertProducts");
            makeTable.innerHTML += "<tr> <td>" + tools[i].title + "</td>" +
                   " <td>" + tools[i].quantity + "</td>" +
                    "<td>" + tools[i].price + "</td>" +
                    "<td>" + tools[i].categories.join(" , ") + "</td>" +

                    "</tr>"
        }
    })();
    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements



})();


</script>

</body>
</html>
